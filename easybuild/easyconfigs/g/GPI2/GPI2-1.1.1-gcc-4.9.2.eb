easyblock = 'Binary'

name = 'GPI2'
version = '1.1.1'

homepage = 'http://www.gpi-site.com/gpi2/'
description = "GPI2: Global Address Space Programming Interface v2"

source_urls = ['https://www.openfabrics.org/downloads/gpi2/']
sources = [SOURCE_TAR_GZ]

dependencies = [ ( 'gawk', '4.0.2' ) ];

osdependencies = [('libibverbs-dev', 'libibverbs-devel'),]

toolchain = {'name': 'GCC', 'version': '4.9.2'}

sanity_check_paths = {
    'files': ['bin/gaspi_run'],
    'dirs': []
}

install_cmd = "tar xfz %(name)s*.tar.gz && cd %(name)s* && "
install_cmd += "sed -i -e 's/^make.\+tests/true/' install.sh && bash install.sh -p %(installdir)s "

moduleclass = 'lang'
